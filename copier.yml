# ----------------------------------------------------------------------
# |
# |  Questions
# |
# ----------------------------------------------------------------------
project_name:
  type: str
  help: Enter the name of the project.
  validator: |-
    {% if not project_name %}
    Please enter a valid project name.
    {% endif %}

project_description:
  type: str
  help: Enter a short, single-sentence description of the project [OPTIONAL].

author_name:
  type: str
  help: Enter the name of the author or organization.
  validator: |-
    {% if not author_name %}
    Please enter a valid author or organization.
    {% endif %}

author_email:
  type: str
  help: Enter the email address of the author or organization.
  validator: |-
    {% if not author_email %}
    Please enter a valid email address.
    {% endif %}

# ----------------------------------------------------------------------
generate_docs:
  type: bool
  help: Would you like to generate documentation for the project?
  default: True

---
!include includes/documentation.yaml
---

# ----------------------------------------------------------------------
hosting_platform:
  type: str
  help: Which code hosting platform are you using?
  choices:
    - null
    - GitHub
  default: GitHub

# This will be defined by the hosting platform
repository_tool:
  type: str
  help: Which distributed version control system are you using?
  choices:
    - null
    - git
  default: "git"
  when: "{{ hosting_platform != 'GitHub' }}"

---
!include includes/github.yaml
---

# ----------------------------------------------------------------------
# |
# |  Configuration
# |
# ----------------------------------------------------------------------
_exclude: ["includes"]
_subdirectory: template
_templates_suffix: ""

_tasks:
  - python __repository_tool/__preprocess.py
  - python __documentation/__preprocess.py
  - python __hosting_platform/__preprocess.py
  - python __repository_tool/__postprocess.py
  - python -c "import shutil; shutil.rmtree('__repository_tool'); shutil.rmtree('__tools'); shutil.rmtree('__documentation'); shutil.rmtree('__hosting_platform')"

_jinja_extensions:
- copier_templates_extensions.TemplateExtensionLoader
- extensions/exception.py:ExceptionExtension
- extensions/slugify.py:SlugifyExtension
